from data import registered_users


def get_prompt_feedback(task_type, user_answer, user_id):
    if (task_type == "writing"):
        return (f"Ты выступаешь в роли эксперта по IELTS в разделе Writing.\n"
                f"            Задание: {registered_users[user_id]["current_task"]}\n"
                f"            Тип задания: {task_type.capitalize()}\n"
                f"            Ответ пользователя:\n"
                f"            {user_answer}\n"
                f"            \n"
                f"            Оцени ответ по следующим критериям:\n"
                f"            1. Соответствие заданию: насколько ответ полностью и точно раскрывает тему и соответствует требованиям задания.\n"
                f"            2. Структура и организация: наличие чёткого введения, основной части и заключения, логичное и последовательное изложение мыслей.\n"
                f"            3. Грамматическая точность: выявление грамматических ошибок, некорректных конструкций, рекомендации по исправлению ошибок.\n"
                f"            4. Лексический запас: разнообразие и уместность используемой лексики, точность терминологии, избегание повторов.\n"
                f"            5. Когерентность: плавность переходов между абзацами и логическая связь между идеями.\n"
                f"            6. Аргументация и примеры: обоснованность идей, наличие убедительных аргументов и примеров.\n"
                f"            \n"
                f"            Проведи детальный разбор, укажи сильные стороны ответа, выяви ошибки и предложи конкретные рекомендации по улучшению.\n"
                f"            ")
    if (task_type == "speaking"):
        return (f"Ты выступаешь в роли эксперта по IELTS в разделе Speaking.\n"
                f"            Задание: {registered_users[user_id]["current_task"]}\n"
                f"            Тип задания: {task_type.capitalize()}\n"
                f"            Ответ пользователя:\n"
                f"            {user_answer}\n"
                f"            \n"
                f"            Оцени ответ по следующим критериям:\n"
                f"            1. Флуентность и связность: насколько свободно и логично излагается речь, отсутствие длительных пауз.\n"
                f"            2. Произношение и интонация: качество произношения, корректность акцента и интонационных моделей.\n"
                f"            3. Грамматическая точность: правильность и разнообразие используемых грамматических конструкций.\n"
                f"            4. Лексический запас: богатство и уместность словарного запаса, использование идиоматических выражений.\n"
                f"            5. Соответствие заданию: полнота раскрытия темы и способность отвечать на поставленные вопросы.\n"
                f"            6. Выразительность и уверенность: общее впечатление от речи, умение ясно и убедительно донести мысли.\n"
                f"            \n"
                f"            Проведи детальный разбор, выдели положительные моменты и укажи области для улучшения, приведи примеры корректного использования языка.\n"
                f"            ")

    if (task_type == "reading"):
        return (f"Ты выступаешь в роли эксперта по IELTS в разделе Reading.\n"
                f"            Задание: {registered_users[user_id]["current_task"]}\n"
                f"            Тип задания: {task_type.capitalize()}\n"
                f"            Ответ пользователя:\n"
                f"            {user_answer}\n"
                f"            \n"
                f"            Учитывая, что вопросы в разделе Reading обычно представлены в виде тестов (выбор одного из вариантов ответа) или заданий на заполнение пропусков, оцени ответ по следующим критериям:\n"
                f"            1. Точность выбора: насколько правильно выбран вариант ответа или заполнен пропуск в соответствии с оригинальным текстом.\n"
                f"            2. Понимание текста: насколько точно и полно выявлены основные идеи и детали исходного материала.\n"
                f"            3. Анализ информации: способность распознать ключевые моменты и детали, влияющие на правильность ответа.\n"
                f"            4. Соответствие заданию: правильное выполнение поставленной задачи в тестовом формате.\n"
                f"            5. Ясность и логика: последовательность мыслей при выборе ответа и обоснование своего выбора (если это требуется).\n"
                f"            \n"
                f"            Проведи детальный разбор, укажи, что выполнено правильно, а что требует доработки, и предложи рекомендации по улучшению.\n"
                f"            ")

    if (task_type == "listening"):
        return (f"Ты выступаешь в роли эксперта по IELTS в разделе Listening.\n"
                f"            Задание: {registered_users[user_id]["current_task"]}\n"
                f"            Тип задания: {task_type.capitalize()}\n"
                f"            Ответ пользователя:\n"
                f"            {user_answer}\n"
                f"            \n"
                f"            Учитывая, что вопросы в разделе Listening обычно представлены в виде тестов (выбор одного из вариантов ответа) или заданий на заполнение пропусков, оцени ответ по следующим критериям:\n"
                f"            1. Точность выбора: насколько правильно выбран вариант ответа или заполнен пропуск в соответствии с прослушанным аудио.\n"
                f"            2. Понимание аудио: насколько точно и полно выявлены основные идеи и ключевые детали прослушанного материала.\n"
                f"            3. Выявление нюансов: способность заметить важные детали, влияющие на понимание задания.\n"
                f"            4. Соответствие заданию: правильное выполнение тестового задания на основе прослушанного материала.\n"
                f"            5. Обоснование выбора (если применимо): логичное объяснение выбранного ответа, если это требуется.\n"
                f"            \n"
                f"            Проведи детальный разбор, укажи сильные стороны ответа, выяви ошибки и дай конкретные рекомендации для улучшения.\n"
                f"            ")
